<!DOCTYPE html>
<html>
<head>
	<style>
        html, body {
            width: 100%;
            height: 100%;
            margin-left: 0px;
        }

        main {
            width: 100%;
            height: 100%;
        }

        svg {
            width: 100%;
            height: 100%;
        }

        :root {
    --nc-font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --nc-font-mono: Consolas, monaco, 'Ubuntu Mono', 'Liberation Mono', 'Courier New', Courier, monospace;

    /* drawing.css */
    --state-body-color: rgb(0, 0, 0);
    --state-border-color: rgb(0, 191, 255);
    --state-border-highlight-color: rgb(23, 197, 66);
    --intial-state-fill-color: rgb(0, 0, 0);
    --initial-state-hover-color: rgb(0, 191, 255);
    --state-border-deleting-color: rgb(255, 0, 0);
    --transition-handle-color: rgb(0, 191, 255);
    --transition-handle-deleting-color: rgb(255, 0, 0);
    --transition-handle-highlight-edit-color: rgb(23, 197, 66);
    --state-separator-color: rgb(128, 128, 128);
    --state-resize-mark-color: rgb(128, 128, 128);
    --function-color: rgb(0, 0, 0);
    --function-hover-color: rgb(0, 0, 255);
    --state-drag-handle-color: rgb(211, 102, 1);
    --state-resize-handle-color: rgb(255, 255, 255);
    --transition-line-color: rgb(70, 130, 180);
    --transition-arrow-color: rgb(70, 130, 180);

    /* main.css */
    --sidebar-handle-border-left-color: rgb(221, 221, 221);
    --sidebar-handle-hover-border-left-color: rgb(170, 170, 170);
    --sidebar-handle-text-bg-color: rgb(170, 170, 170);
    --sidebar-handle-text-color: rgb(20, 20, 126);
    --sidebar-handle-text-hover-color: rgb(153, 153, 153);
    --button-bg-color: rgb(70, 130, 180);
    --button-text-color: rgb(255, 255, 255);
    --button-hover-bg-color: rgb(44, 118, 179);
    --button-inline-bg-color: rgb(70, 130, 180);
    --button-inline-text-color: rgb(255, 255, 255);
    --button-inline-hover-bg-color: rgb(44, 118, 179);
    --button-border-color: rgb(221, 221, 221);
    --details-border-color: rgb(8, 0, 0);
    --input-text-bg-color: rgb(245, 245, 245);
    --input-textarea-bg-color: rgb(245, 245, 245);

    --html-bg: rgb(255, 255, 255);
}
        
.state_body {
    stroke: var(--state-body-color);
    stroke-width: 0.2;
    fill: none;
    rx: 0.5px;
}

.state_border {
    stroke: var(--state-border-color); 
    stroke-width: 0.8;
    fill: none;
    rx: 0.5px;
    opacity: 0;
    color: var(--state-text-color);
}

.state_border:hover {
    opacity: 0.4;
}

.state_border_highlight {
    stroke: var(--state-border-highlight-color);
    opacity: 0.4;
}

.initial_state {
    stroke: none;
    stroke-width: 0.4;
    fill: var(--intial-state-fill-color);
    r: 0.7px;
}

.initial_state:hover {
    stroke: var(--initial-state-hover-color);
    stroke-width: 0.5px;
}

.state_border_deleting {
    stroke: var(--state-border-deleting); 
    stroke-width: 0.8;
    fill: none;
    rx: 0.5px;
    opacity: 0.4;
}

.transition_handle {
    stroke: var(--transition-handle-color); 
    stroke-width: 0.8;
    fill: none;
    rx: 0.5px;
    opacity: 0;
    cursor: grab;
}

.transition_handle:hover {
    opacity: 0.4;
}

.transition_handle_deleting {
    stroke: var(--transition-handle-deleting-color);
    stroke-width: 0.8;
    fill: none;
    rx: 0.5px;
    opacity: 0;
    cursor: auto;
}

.transition_handle_deleting:hover {
    opacity: 0.4;
}

.transition_handle_highlight_draw {
    opacity: 0.4;
    cursor: crosshair;
}

.transition_handle_highlight_edit {
    stroke: var(--transition-handle-highlight-edit-color);
    opacity: 0.4;
    cursor: grab;
}

.transition_handle_highlight_drag {
    opacity: 0.4;
    cursor: grab;
}

.state_separator {
    stroke: var(--state-separator-color);
    stroke-width: 0.1;
    shape-rendering: crispEdges;
}

.state_resize_mark {
    stroke: var(--state-resize-mark-color);
    stroke-width: 0.1;
}

.state_title {
    font: bold 0.08em arial,helvetica,sans-serif;
    fill: var(--state-title-color);
}

.state_text {
    font: normal 0.08em arial,helvetica,sans-serif;
    fill: var(--state-text-color);
}

.transition_label {
    font: normal 0.07em arial,helvetica,sans-serif;
    fill: var(--transition-text-color);
}

.function {
    fill: var(--function-color);
}

.function:hover {
    fill: var(--function-hover-color);
}

.transition_label:hover {
    cursor: grab;
}

.state_drag_handle {
    fill: var(--state-drag-handle-color);
    opacity: 0.1;
    stroke: none;
    rx: 0.5px;
    cursor: move;
    /* pointer-events: none; */
}

.state_resize_handle {
    fill: var(--state-resize-handle-color);
    opacity: 0.0;
    stroke: none;
    r: 0.5px;
    cursor: nwse-resize;
}

.transition_line {
    fill: none;
    stroke: var(--transition-line-color);
    stroke-width: 0.2;
}

.transition_arrow {
    fill: var(--transition-arrow-color);
    stroke: none;
    stroke-width: 0.0;
}

    </style>
</head>
<body>
    <main>
        
			<svg height="100%" width="100%">
				<g display="none">
					<path id="arrow" d="M 0 0 L 0.9 -0.4 L 0.9 0.4 Z" class="arrow_template"></path>
				</g>
				<g id="drawing" transform="translate(-181, 62.5) scale(7.5, 7.5)"><g><path d="M 133 88 L 132 88 L 132 93 L 125 93" class="transition_line"></path><use href="#arrow" transform="translate(125 93) " class="transition_arrow" display="block"></use><text x="132" y="92.6" class="transition_label"></text><path d="M 133 88 L 132 88 L 132 93 L 125 93" class="transition_handle"></path></g><g><path d="M 46 79 L 46 62 L 46 62 L 46 45" class="transition_line"></path><use href="#arrow" transform="translate(46 45) rotate(90) " class="transition_arrow" display="block"></use><text x="46.5" y="76.19999999999999" class="transition_label">[<tspan class="function">vcnl4040_error_cnt</tspan>(<tspan class="function">VCNL4040_MAX_ERROR_CNT</tspan>)]</text><path d="M 46 79 L 46 62 L 46 62 L 46 45" class="transition_handle"></path></g><g><path d="M 40 45 L 40 62 L 40 62 L 40 79" class="transition_line"></path><use href="#arrow" transform="translate(40 79) rotate(-90) " class="transition_arrow" display="block"></use><text x="40.5" y="49.7" class="transition_label"><tspan class="function">SIG_I2C_RESULT_SUCCESS</tspan></text><path d="M 40 45 L 40 62 L 40 62 L 40 79" class="transition_handle"></path></g><g><path d="M 107 102 L 79 102 L 79 102 L 56 102" class="transition_line"></path><use href="#arrow" transform="translate(56 102) " class="transition_arrow" display="block"></use><text x="77.5" y="101.6" class="transition_label"><tspan class="function">SIG_I2C_RESULT_SUCCESS</tspan>/ <tspan class="function">vcnl4040_update_data()</tspan></text><path d="M 107 102 L 79 102 L 79 102 L 56 102" class="transition_handle"></path></g><g><path d="M 107 99 L 79 99 L 79 99 L 56 99" class="transition_line"></path><use href="#arrow" transform="translate(56 99) " class="transition_arrow" display="block"></use><text x="66.5" y="98.6" class="transition_label">[<tspan class="function">vcnl4040_timeout</tspan>(<tspan class="function">VCNL4040_READ_PERIOD</tspan>)]/ <tspan class="function">vcnl4040_inc_error_counter()</tspan></text><path d="M 107 99 L 79 99 L 79 99 L 56 99" class="transition_handle"></path></g><g><path d="M 107 97 L 79 97 L 79 97 L 56 97" class="transition_line"></path><use href="#arrow" transform="translate(56 97) " class="transition_arrow" display="block"></use><text x="74" y="96.6" class="transition_label"><tspan class="function">SIG_I2C_RESULT_DATA_NACK</tspan>/ <tspan class="function">vcnl4040_inc_error_counter()</tspan></text><path d="M 107 97 L 79 97 L 79 97 L 56 97" class="transition_handle"></path></g><g><path d="M 107 95 L 79 95 L 79 95 L 56 95" class="transition_line"></path><use href="#arrow" transform="translate(56 95) " class="transition_arrow" display="block"></use><text x="73.5" y="94.6" class="transition_label"><tspan class="function">SIG_I2C_RESULT_ADDR_NACK</tspan>/ <tspan class="function">vcnl4040_inc_error_counter()</tspan></text><path d="M 107 95 L 79 95 L 79 95 L 56 95" class="transition_handle"></path></g><g><path d="M 56 92 L 79 92 L 79 92 L 107 92" class="transition_line"></path><use href="#arrow" transform="translate(107 92) rotate(180) " class="transition_arrow" display="block"></use><text x="57" y="91.6" class="transition_label">[<tspan class="function">vcnl4040_timeout</tspan>(<tspan class="function">VCNL4040_READ_PERIOD</tspan>)]/ <tspan class="function">vcnl4040_reset_timeout()</tspan></text><path d="M 56 92 L 79 92 L 79 92 L 107 92" class="transition_handle"></path></g><g><path d="M 55 3 L 55 3 L 55 9" class="transition_line"></path><use href="#arrow" transform="translate(55 9) rotate(-90) " class="transition_arrow" display="block"></use><text x="55.5" y="4.6" class="transition_label"></text><path d="M 55 3 L 55 3 L 55 9" class="transition_handle"></path></g><g><path d="M 107 40 L 78 40 L 78 40 L 59 40" class="transition_line"></path><use href="#arrow" transform="translate(59 40) " class="transition_arrow" display="block"></use><text x="64.5" y="39.6" class="transition_label">[<tspan class="function">vcnl4040_timeout</tspan>(<tspan class="function">VCNL4040_UNPLUGGED_TIMEOUT</tspan>)]/ <tspan class="function">vcnl4040_reset_timer()</tspan></text><path d="M 107 40 L 78 40 L 78 40 L 59 40" class="transition_handle"></path></g><g><path d="M 59 37 L 78 37 L 78 37 L 107 37" class="transition_line"></path><use href="#arrow" transform="translate(107 37) rotate(180) " class="transition_arrow" display="block"></use><text x="60.5" y="36.6" class="transition_label">[<tspan class="function">vcnl4040_timeout</tspan>(<tspan class="function">VCNL4040_RETRY_TIMEOUT</tspan>)]</text><path d="M 59 37 L 78 37 L 78 37 L 107 37" class="transition_handle"></path></g><g><path d="M 59 35 L 78 35 L 78 35 L 107 35" class="transition_line"></path><use href="#arrow" transform="translate(107 35) rotate(180) " class="transition_arrow" display="block"></use><text x="60.5" y="34.6" class="transition_label"><tspan class="function">SIG_I2C_RESULT_DATA_NACK</tspan></text><path d="M 59 35 L 78 35 L 78 35 L 107 35" class="transition_handle"></path></g><g><path d="M 59 33 L 78 33 L 78 33 L 107 33" class="transition_line"></path><use href="#arrow" transform="translate(107 33) rotate(180) " class="transition_arrow" display="block"></use><text x="60.5" y="32.6" class="transition_label"><tspan class="function">SIG_I2C_RESULT_ADDR_NACK</tspan></text><path d="M 59 33 L 78 33 L 78 33 L 107 33" class="transition_handle"></path></g><g><path d="M 36 32 L 36 32 L 38 32 L 40 32" class="transition_line"></path><use href="#arrow" transform="translate(40 32) rotate(180) " class="transition_arrow" display="block"></use><text x="38.1" y="31.6" class="transition_label"></text><path d="M 36 32 L 36 32 L 38 32 L 40 32" class="transition_handle"></path></g><g><path d="M 48 18 L 44 18 L 44 23" class="transition_line"></path><use href="#arrow" transform="translate(44 23) rotate(-90) " class="transition_arrow" display="block"></use><text x="47.5" y="17.6" class="transition_label"></text><path d="M 48 18 L 44 18 L 44 23" class="transition_handle"></path></g>
				<g transform="translate(-100000000, -100000000)"><rect x="0" y="0" width="200000000" height="200000000" class="state_body"></rect><line x1="0" y1="2" x2="200000000" y2="2" class="state_separator"></line><line x1="0" y1="2" x2="200000000" y2="2" class="state_separator"></line><line x1="199999999" y1="200000000" x2="200000000" y2="199999999" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">__top__</text><rect x="0" y="0" width="200000000" height="2" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"></text><rect x="0" y="0" width="200000000" height="200000000" class="state_border"></rect><circle cx="199999999.75" cy="199999999.75" class="state_resize_handle"></circle></g><g transform="translate(29, 9)"><rect x="0" y="0" width="110" height="102" class="state_body"></rect><line x1="0" y1="2" x2="110" y2="2" class="state_separator"></line><line x1="0" y1="6" x2="110" y2="6" class="state_separator"></line><line x1="109" y1="102" x2="110" y2="101" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_vcnl4040</text><rect x="0" y="0" width="110" height="6" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/ <tspan class="function">vcnl4040_init()</tspan></tspan><tspan x="0.6" dy="2"><tspan class="function">SIG_SYS_TICK_10ms</tspan>/ <tspan class="function">vcnl4040_10ms_callback()</tspan></tspan></text><rect x="0" y="0" width="110" height="102" class="state_border"></rect><circle cx="109.75" cy="101.75" class="state_resize_handle"></circle></g><g transform="translate(33, 23)"><rect x="0" y="0" width="93" height="22" class="state_body"></rect><line x1="0" y1="2" x2="93" y2="2" class="state_separator"></line><line x1="0" y1="4" x2="93" y2="4" class="state_separator"></line><line x1="92" y1="22" x2="93" y2="21" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_init</text><rect x="0" y="0" width="93" height="4" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"></tspan></text><rect x="0" y="0" width="93" height="22" class="state_border"></rect><circle cx="92.75" cy="21.75" class="state_resize_handle"></circle></g><g transform="translate(36, 79)"><rect x="0" y="0" width="101" height="27" class="state_body"></rect><line x1="0" y1="2" x2="101" y2="2" class="state_separator"></line><line x1="0" y1="6" x2="101" y2="6" class="state_separator"></line><line x1="100" y1="27" x2="101" y2="26" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_online</text><rect x="0" y="0" width="101" height="6" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/ <tspan class="function">send_online_event()</tspan></tspan><tspan x="0.6" dy="2"><tspan class="function">exit</tspan>/ <tspan class="function">send_offline_event()</tspan></tspan></text><rect x="0" y="0" width="101" height="27" class="state_border"></rect><circle cx="100.75" cy="26.75" class="state_resize_handle"></circle></g><g transform="translate(63, 51)"><rect x="0" y="0" width="63" height="18" class="state_body"></rect><line x1="0" y1="2" x2="63" y2="2" class="state_separator"></line><line x1="0" y1="6" x2="63" y2="6" class="state_separator"></line><line x1="62" y1="18" x2="63" y2="17" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_config</text><rect x="0" y="0" width="63" height="6" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/</tspan><tspan x="0.6" dy="2"><tspan class="function">exit</tspan>/</tspan></text><rect x="0" y="0" width="63" height="18" class="state_border"></rect><circle cx="62.75" cy="17.75" class="state_resize_handle"></circle></g><circle cx="48" cy="18" class="initial_state"></circle><g transform="translate(40, 31)"><rect x="0" y="0" width="19" height="10" class="state_body"></rect><line x1="0" y1="2" x2="19" y2="2" class="state_separator"></line><line x1="0" y1="6" x2="19" y2="6" class="state_separator"></line><line x1="18" y1="10" x2="19" y2="9" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_read_id</text><rect x="0" y="0" width="19" height="6" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">init</tspan>/ <tspan class="function">vcnl4040_read_id()</tspan></tspan><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/ <tspan class="function">vcnl4040_reset_timer()</tspan></tspan></text><rect x="0" y="0" width="19" height="10" class="state_border"></rect><circle cx="18.75" cy="9.75" class="state_resize_handle"></circle></g><g transform="translate(107, 31)"><rect x="0" y="0" width="18" height="10" class="state_body"></rect><line x1="0" y1="2" x2="18" y2="2" class="state_separator"></line><line x1="0" y1="4" x2="18" y2="4" class="state_separator"></line><line x1="17" y1="10" x2="18" y2="9" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_unplugged</text><rect x="0" y="0" width="18" height="4" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/ <tspan class="function">vcnl4040_reset_timer()</tspan></tspan></text><rect x="0" y="0" width="18" height="10" class="state_border"></rect><circle cx="17.75" cy="9.75" class="state_resize_handle"></circle></g><g transform="translate(38, 88)"><rect x="0" y="0" width="18" height="15" class="state_body"></rect><line x1="0" y1="2" x2="18" y2="2" class="state_separator"></line><line x1="0" y1="4" x2="18" y2="4" class="state_separator"></line><line x1="17" y1="15" x2="18" y2="14" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_idle</text><rect x="0" y="0" width="18" height="4" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">init</tspan>/ <tspan class="function">vcnl4040_reset_timer()</tspan></tspan></text><rect x="0" y="0" width="18" height="15" class="state_border"></rect><circle cx="17.75" cy="14.75" class="state_resize_handle"></circle></g><g transform="translate(107, 88)"><rect x="0" y="0" width="18" height="15" class="state_body"></rect><line x1="0" y1="2" x2="18" y2="2" class="state_separator"></line><line x1="0" y1="6" x2="18" y2="6" class="state_separator"></line><line x1="17" y1="15" x2="18" y2="14" class="state_resize_mark"></line><text x="0.6" y="1.6" class="state_title">s_reading</text><rect x="0" y="0" width="18" height="6" class="state_drag_handle"></rect><text x="0.6" y="1.6" class="state_text"><tspan x="0.6" dy="2"><tspan class="function">entry</tspan>/ <tspan class="function">vcnl4040_start_read()</tspan></tspan><tspan x="0.6" dy="2"><tspan class="function">exit</tspan>/ <tspan class="function">vcnl4040_reset_timer()</tspan></tspan></text><rect x="0" y="0" width="18" height="15" class="state_border"></rect><circle cx="17.75" cy="14.75" class="state_resize_handle"></circle></g><circle cx="36" cy="32" class="initial_state"></circle><circle cx="55" cy="3" class="initial_state"></circle><circle cx="133" cy="88" class="initial_state"></circle></g>
			</svg>
		
    </main>
    <script>
        
const zoom_speed = 0.5;
const pan_speed = 20;
const drawing = document.querySelector('#drawing');
const svg = document.querySelector('svg');

let translate = [drawing.transform.baseVal[0].matrix.e, drawing.transform.baseVal[0].matrix.f];
let scale = drawing.transform.baseVal[1].matrix.a;

let drag_start_pos = [0, 0];

function set_transform()
{
    const [tx, ty] = translate;
    const s = scale; 
    drawing.attributes.transform.value = `translate(${tx}, ${ty}) scale(${s}, ${s})`;
}

function zoom_in(pos)
{
    const zs = zoom_speed;
    const [x, y] = pos;
    const [dtx, dty] = [-zs * x, -zs * y];
    const [tx, ty] = translate;
    translate = [tx + dtx, ty + dty];
    scale += zs;
    set_transform();
}

function zoom_out(pos)
{
    if (scale < 2)
    {
        return;
    }
    const zs = -zoom_speed;
    const [x, y] = pos;
    const [dtx, dty] = [-zs * x, -zs * y];
    const [tx, ty] = translate;
    translate = [tx + dtx, ty + dty];
    scale += zs;
    set_transform();
}

function get_absolute_pos(evt)
{
    const CTM = drawing.getScreenCTM();
    const x = Math.round((evt.clientX - CTM.e) / CTM.a);
    const y = Math.round((evt.clientY - CTM.f) / CTM.d);

    return [x, y];
}



svg.addEventListener('wheel', event => {
    if (event.ctrlKey)
    {
        event.stopPropagation();
        event.preventDefault();
        const p = get_absolute_pos(event);
        if (event.deltaY < 0)
        {
            zoom_in(p);
        }
        else
        {
            zoom_out(p);
        }
    }
    else if (event.shiftKey)
    {
        event.stopPropagation();
        event.preventDefault();
        if (event.deltaY < 0)
        {
            translate[0] += pan_speed;
        }
        else
        {
            translate[0] -= pan_speed;
        }
        set_transform();
    }
    else
    {
        event.stopPropagation();
        event.preventDefault();
        if (event.deltaY < 0)
        {
            translate[1] += pan_speed;
        }
        else
        {
            translate[1] -= pan_speed;
        }
        set_transform();
    }
});
    </script>
    <details>
        <summary>json</summary>
        <pre id='chsm-json-data'>
            {
    "states": {
        "__top__": {
            "pos": [
                -100000000,
                -100000000
            ],
            "size": [
                200000000,
                200000000
            ],
            "title": "__top__",
            "text": [],
            "connectors": [],
            "parent": null,
            "children": [
                "state_0",
                "istate_0"
            ],
            "type": "top"
        },
        "state_0": {
            "pos": [
                29,
                9
            ],
            "size": [
                110,
                102
            ],
            "title": "s_vcnl4040",
            "text": [
                "entry/ vcnl4040_init()",
                "SIG_SYS_TICK_10ms/ vcnl4040_10ms_callback()"
            ],
            "connectors": [
                "conn_1"
            ],
            "parent": "__top__",
            "children": [
                "state_1",
                "state_2",
                "state_3",
                "istate_1"
            ],
            "type": "normal"
        },
        "state_1": {
            "pos": [
                33,
                23
            ],
            "size": [
                93,
                22
            ],
            "title": "s_init",
            "text": [
                ""
            ],
            "connectors": [
                "conn_3",
                "conn_26",
                "conn_29"
            ],
            "parent": "state_0",
            "children": [
                "state_4",
                "state_5",
                "istate_2"
            ],
            "type": "normal"
        },
        "state_2": {
            "pos": [
                36,
                79
            ],
            "size": [
                101,
                27
            ],
            "title": "s_online",
            "text": [
                "entry/ send_online_event()",
                "exit/ send_offline_event()"
            ],
            "connectors": [
                "conn_27",
                "conn_28"
            ],
            "parent": "state_0",
            "children": [
                "state_6",
                "state_7",
                "istate_3"
            ],
            "type": "normal"
        },
        "state_3": {
            "pos": [
                63,
                51
            ],
            "size": [
                63,
                18
            ],
            "title": "s_config",
            "text": [
                "entry/",
                "exit/"
            ],
            "connectors": [],
            "parent": "state_0",
            "children": [],
            "type": "normal"
        },
        "istate_1": {
            "pos": [
                48,
                18
            ],
            "size": [
                2,
                2
            ],
            "title": "istate_1",
            "text": [
                "entry/",
                "exit/"
            ],
            "connectors": [
                "conn_2"
            ],
            "parent": "state_0",
            "children": [],
            "type": "initial"
        },
        "state_4": {
            "pos": [
                40,
                31
            ],
            "size": [
                19,
                10
            ],
            "title": "s_read_id",
            "text": [
                "init/ vcnl4040_read_id()",
                "entry/ vcnl4040_reset_timer()"
            ],
            "connectors": [
                "conn_5",
                "conn_6",
                "conn_8",
                "conn_10",
                "conn_13"
            ],
            "parent": "state_1",
            "children": [],
            "type": "normal"
        },
        "state_5": {
            "pos": [
                107,
                31
            ],
            "size": [
                18,
                10
            ],
            "title": "s_unplugged",
            "text": [
                "entry/ vcnl4040_reset_timer()"
            ],
            "connectors": [
                "conn_7",
                "conn_9",
                "conn_11",
                "conn_12"
            ],
            "parent": "state_1",
            "children": [],
            "type": "normal"
        },
        "state_6": {
            "pos": [
                38,
                88
            ],
            "size": [
                18,
                15
            ],
            "title": "s_idle",
            "text": [
                "init/ vcnl4040_reset_timer()"
            ],
            "connectors": [
                "conn_16",
                "conn_19",
                "conn_21",
                "conn_23",
                "conn_25"
            ],
            "parent": "state_2",
            "children": [],
            "type": "normal"
        },
        "state_7": {
            "pos": [
                107,
                88
            ],
            "size": [
                18,
                15
            ],
            "title": "s_reading",
            "text": [
                "entry/ vcnl4040_start_read()",
                "exit/ vcnl4040_reset_timer()"
            ],
            "connectors": [
                "conn_17",
                "conn_18",
                "conn_20",
                "conn_22",
                "conn_24",
                "conn_31"
            ],
            "parent": "state_2",
            "children": [],
            "type": "normal"
        },
        "istate_2": {
            "pos": [
                36,
                32
            ],
            "size": [
                2,
                2
            ],
            "title": "istate_2",
            "text": [
                "entry/",
                "exit/"
            ],
            "connectors": [
                "conn_4"
            ],
            "parent": "state_1",
            "children": [],
            "type": "initial"
        },
        "istate_0": {
            "pos": [
                55,
                3
            ],
            "size": [
                2,
                2
            ],
            "title": "istate_0",
            "text": [
                "entry/",
                "exit/"
            ],
            "connectors": [
                "conn_0"
            ],
            "parent": "__top__",
            "children": [],
            "type": "initial"
        },
        "istate_3": {
            "pos": [
                133,
                88
            ],
            "size": [
                2,
                2
            ],
            "title": "istate_3",
            "text": [
                "entry/",
                "exit/"
            ],
            "connectors": [
                "conn_30"
            ],
            "parent": "state_2",
            "children": [],
            "type": "initial"
        }
    },
    "connectors": {
        "conn_2": {
            "parent": "istate_1",
            "offset": 0,
            "side": "all",
            "dir": "out",
            "transition": "trans_1"
        },
        "conn_3": {
            "parent": "state_1",
            "offset": 11,
            "side": "top",
            "dir": "in",
            "transition": "trans_1"
        },
        "conn_4": {
            "parent": "istate_2",
            "offset": 0,
            "side": "all",
            "dir": "out",
            "transition": "trans_2"
        },
        "conn_5": {
            "parent": "state_4",
            "offset": 1,
            "side": "left",
            "dir": "in",
            "transition": "trans_2"
        },
        "conn_6": {
            "parent": "state_4",
            "offset": 2,
            "side": "right",
            "dir": "out",
            "transition": "trans_3"
        },
        "conn_7": {
            "parent": "state_5",
            "offset": 2,
            "side": "left",
            "dir": "in",
            "transition": "trans_3"
        },
        "conn_8": {
            "parent": "state_4",
            "offset": 4,
            "side": "right",
            "dir": "out",
            "transition": "trans_4"
        },
        "conn_9": {
            "parent": "state_5",
            "offset": 4,
            "side": "left",
            "dir": "in",
            "transition": "trans_4"
        },
        "conn_10": {
            "parent": "state_4",
            "offset": 6,
            "side": "right",
            "dir": "out",
            "transition": "trans_5"
        },
        "conn_11": {
            "parent": "state_5",
            "offset": 6,
            "side": "left",
            "dir": "in",
            "transition": "trans_5"
        },
        "conn_12": {
            "parent": "state_5",
            "offset": 9,
            "side": "left",
            "dir": "out",
            "transition": "trans_6"
        },
        "conn_13": {
            "parent": "state_4",
            "offset": 9,
            "side": "right",
            "dir": "in",
            "transition": "trans_6"
        },
        "conn_0": {
            "parent": "istate_0",
            "offset": 0,
            "side": "all",
            "dir": "out",
            "transition": "trans_0"
        },
        "conn_1": {
            "parent": "state_0",
            "offset": 26,
            "side": "top",
            "dir": "in",
            "transition": "trans_0"
        },
        "conn_16": {
            "parent": "state_6",
            "offset": 4,
            "side": "right",
            "dir": "out",
            "transition": "trans_8"
        },
        "conn_17": {
            "parent": "state_7",
            "offset": 4,
            "side": "left",
            "dir": "in",
            "transition": "trans_8"
        },
        "conn_18": {
            "parent": "state_7",
            "offset": 7,
            "side": "left",
            "dir": "out",
            "transition": "trans_9"
        },
        "conn_19": {
            "parent": "state_6",
            "offset": 7,
            "side": "right",
            "dir": "in",
            "transition": "trans_9"
        },
        "conn_20": {
            "parent": "state_7",
            "offset": 9,
            "side": "left",
            "dir": "out",
            "transition": "trans_10"
        },
        "conn_21": {
            "parent": "state_6",
            "offset": 9,
            "side": "right",
            "dir": "in",
            "transition": "trans_10"
        },
        "conn_22": {
            "parent": "state_7",
            "offset": 11,
            "side": "left",
            "dir": "out",
            "transition": "trans_11"
        },
        "conn_23": {
            "parent": "state_6",
            "offset": 11,
            "side": "right",
            "dir": "in",
            "transition": "trans_11"
        },
        "conn_24": {
            "parent": "state_7",
            "offset": 14,
            "side": "left",
            "dir": "out",
            "transition": "trans_12"
        },
        "conn_25": {
            "parent": "state_6",
            "offset": 14,
            "side": "right",
            "dir": "in",
            "transition": "trans_12"
        },
        "conn_26": {
            "parent": "state_1",
            "offset": 7,
            "side": "bottom",
            "dir": "out",
            "transition": "trans_13"
        },
        "conn_27": {
            "parent": "state_2",
            "offset": 4,
            "side": "top",
            "dir": "in",
            "transition": "trans_13"
        },
        "conn_28": {
            "parent": "state_2",
            "offset": 10,
            "side": "top",
            "dir": "out",
            "transition": "trans_14"
        },
        "conn_29": {
            "parent": "state_1",
            "offset": 13,
            "side": "bottom",
            "dir": "in",
            "transition": "trans_14"
        },
        "conn_30": {
            "parent": "istate_3",
            "offset": 0,
            "side": "all",
            "dir": "out",
            "transition": "trans_15"
        },
        "conn_31": {
            "parent": "state_7",
            "offset": 5,
            "side": "right",
            "dir": "in",
            "transition": "trans_15"
        }
    },
    "transitions": {
        "trans_1": {
            "start": "conn_2",
            "end": "conn_3",
            "vertices": [
                [
                    48,
                    18
                ],
                [
                    44,
                    18
                ],
                [
                    44,
                    23
                ]
            ],
            "label": "",
            "label_offset": [
                -0.5,
                -0.3999999999999986
            ],
            "label_anchor": 0,
            "label_pos": [
                47.5,
                17.6
            ]
        },
        "trans_2": {
            "start": "conn_4",
            "end": "conn_5",
            "vertices": [
                [
                    36,
                    32
                ],
                [
                    36,
                    32
                ],
                [
                    38,
                    32
                ],
                [
                    40,
                    32
                ]
            ],
            "label": "",
            "label_offset": [
                2.1000000000000014,
                -0.3999999999999986
            ],
            "label_anchor": 1,
            "label_pos": [
                38.1,
                31.6
            ]
        },
        "trans_3": {
            "start": "conn_6",
            "end": "conn_7",
            "vertices": [
                [
                    59,
                    33
                ],
                [
                    78,
                    33
                ],
                [
                    78,
                    33
                ],
                [
                    107,
                    33
                ]
            ],
            "label": "SIG_I2C_RESULT_ADDR_NACK",
            "label_offset": [
                1.5,
                -0.3999999999999986
            ],
            "label_anchor": 0,
            "label_pos": [
                60.5,
                32.6
            ]
        },
        "trans_4": {
            "start": "conn_8",
            "end": "conn_9",
            "vertices": [
                [
                    59,
                    35
                ],
                [
                    78,
                    35
                ],
                [
                    78,
                    35
                ],
                [
                    107,
                    35
                ]
            ],
            "label": "SIG_I2C_RESULT_DATA_NACK",
            "label_offset": [
                1.5,
                -0.3999999999999986
            ],
            "label_anchor": 0,
            "label_pos": [
                60.5,
                34.6
            ]
        },
        "trans_5": {
            "start": "conn_10",
            "end": "conn_11",
            "vertices": [
                [
                    59,
                    37
                ],
                [
                    78,
                    37
                ],
                [
                    78,
                    37
                ],
                [
                    107,
                    37
                ]
            ],
            "label": "[vcnl4040_timeout(VCNL4040_RETRY_TIMEOUT)]",
            "label_offset": [
                1.5,
                -0.3999999999999986
            ],
            "label_anchor": 0,
            "label_pos": [
                60.5,
                36.6
            ]
        },
        "trans_6": {
            "start": "conn_12",
            "end": "conn_13",
            "vertices": [
                [
                    107,
                    40
                ],
                [
                    78,
                    40
                ],
                [
                    78,
                    40
                ],
                [
                    59,
                    40
                ]
            ],
            "label": "[vcnl4040_timeout(VCNL4040_UNPLUGGED_TIMEOUT)]/ vcnl4040_reset_timer()",
            "label_offset": [
                -13.5,
                -0.3999999999999986
            ],
            "label_anchor": 2,
            "label_pos": [
                64.5,
                39.6
            ]
        },
        "trans_0": {
            "start": "conn_0",
            "end": "conn_1",
            "vertices": [
                [
                    55,
                    3
                ],
                [
                    55,
                    3
                ],
                [
                    55,
                    9
                ]
            ],
            "label": "",
            "label_offset": [
                0.5,
                1.5999999999999996
            ],
            "label_anchor": 1,
            "label_pos": [
                55.5,
                4.6
            ]
        },
        "trans_8": {
            "start": "conn_16",
            "end": "conn_17",
            "vertices": [
                [
                    56,
                    92
                ],
                [
                    79,
                    92
                ],
                [
                    79,
                    92
                ],
                [
                    107,
                    92
                ]
            ],
            "label": "[vcnl4040_timeout(VCNL4040_READ_PERIOD)]/ vcnl4040_reset_timeout()",
            "label_offset": [
                1,
                -0.4000000000000057
            ],
            "label_anchor": 0,
            "label_pos": [
                57,
                91.6
            ]
        },
        "trans_9": {
            "start": "conn_18",
            "end": "conn_19",
            "vertices": [
                [
                    107,
                    95
                ],
                [
                    79,
                    95
                ],
                [
                    79,
                    95
                ],
                [
                    56,
                    95
                ]
            ],
            "label": "SIG_I2C_RESULT_ADDR_NACK/ vcnl4040_inc_error_counter()",
            "label_offset": [
                -5.5,
                -0.4000000000000057
            ],
            "label_anchor": 2,
            "label_pos": [
                73.5,
                94.6
            ]
        },
        "trans_10": {
            "start": "conn_20",
            "end": "conn_21",
            "vertices": [
                [
                    107,
                    97
                ],
                [
                    79,
                    97
                ],
                [
                    79,
                    97
                ],
                [
                    56,
                    97
                ]
            ],
            "label": "SIG_I2C_RESULT_DATA_NACK/ vcnl4040_inc_error_counter()",
            "label_offset": [
                -5,
                -0.4000000000000057
            ],
            "label_anchor": 2,
            "label_pos": [
                74,
                96.6
            ]
        },
        "trans_11": {
            "start": "conn_22",
            "end": "conn_23",
            "vertices": [
                [
                    107,
                    99
                ],
                [
                    79,
                    99
                ],
                [
                    79,
                    99
                ],
                [
                    56,
                    99
                ]
            ],
            "label": "[vcnl4040_timeout(VCNL4040_READ_PERIOD)]/ vcnl4040_inc_error_counter()",
            "label_offset": [
                -12.5,
                -0.4000000000000057
            ],
            "label_anchor": 2,
            "label_pos": [
                66.5,
                98.6
            ]
        },
        "trans_12": {
            "start": "conn_24",
            "end": "conn_25",
            "vertices": [
                [
                    107,
                    102
                ],
                [
                    79,
                    102
                ],
                [
                    79,
                    102
                ],
                [
                    56,
                    102
                ]
            ],
            "label": "SIG_I2C_RESULT_SUCCESS/ vcnl4040_update_data()",
            "label_offset": [
                -1.5,
                -0.4000000000000057
            ],
            "label_anchor": 2,
            "label_pos": [
                77.5,
                101.6
            ]
        },
        "trans_13": {
            "start": "conn_26",
            "end": "conn_27",
            "vertices": [
                [
                    40,
                    45
                ],
                [
                    40,
                    62
                ],
                [
                    40,
                    62
                ],
                [
                    40,
                    79
                ]
            ],
            "label": "SIG_I2C_RESULT_SUCCESS",
            "label_offset": [
                0.5,
                4.700000000000003
            ],
            "label_anchor": 0,
            "label_pos": [
                40.5,
                49.7
            ]
        },
        "trans_14": {
            "start": "conn_28",
            "end": "conn_29",
            "vertices": [
                [
                    46,
                    79
                ],
                [
                    46,
                    62
                ],
                [
                    46,
                    62
                ],
                [
                    46,
                    45
                ]
            ],
            "label": "[vcnl4040_error_cnt(VCNL4040_MAX_ERROR_CNT)]",
            "label_offset": [
                0.5,
                -2.8000000000000114
            ],
            "label_anchor": 0,
            "label_pos": [
                46.5,
                76.19999999999999
            ]
        },
        "trans_15": {
            "start": "conn_30",
            "end": "conn_31",
            "vertices": [
                [
                    133,
                    88
                ],
                [
                    132,
                    88
                ],
                [
                    132,
                    93
                ],
                [
                    125,
                    93
                ]
            ],
            "label": "",
            "label_offset": [
                0,
                -0.4000000000000057
            ],
            "label_anchor": 2,
            "label_pos": [
                132,
                92.6
            ]
        }
    },
    "notes": {
        "SIG_I2C_RESULT_ADDR_NACK": "",
        "SIG_I2C_RESULT_DATA_NACK": "",
        "vcnl4040_timeout": "",
        "SIG_VCNL4040_READ": ""
    },
    "view": {
        "translate": [
            -181,
            62.5
        ],
        "scale": 7.5
    }
}
        </pre>
    </details>
</body>
</html>
