<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1 Usage &mdash; CHSM 1.0.0. documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/drawio.css" type="text/css" />
      <link rel="stylesheet" href="../_static/decorator.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=58f5e731"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/dark_mode_js/default_dark.js?v=fd565c74"></script>
        <script src="../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2 Development" href="../development/index.html" />
    <link rel="prev" title="CHSM" href="../index.html" />
<!-- <meta http-equiv="refresh" content="0; url=./index.html" /> -->

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CHSM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"><span class="sectnum">1 </span>Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introductions"><span class="sectnum">1.1 </span>Introductions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-for-chsm"><span class="sectnum">1.2 </span>Installing for CHSM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#of-the-gui-and-code-generation"><span class="sectnum">1.2.1 </span>Of the GUI and code generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#of-the-c-unit-tests"><span class="sectnum">1.2.2 </span>Of the C unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration"><span class="sectnum">1.3 </span>Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start"><span class="sectnum">1.4 </span>Quick Start</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html"><span class="sectnum">2 </span>Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html"><span class="sectnum">3 </span>Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exaples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html"><span class="sectnum">4 </span>Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CHSM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="sectnum">1 </span>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1><span class="sectnum">1 </span>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h1>
<section id="introductions">
<h2><span class="sectnum">1.1 </span>Introductions<a class="headerlink" href="#introductions" title="Link to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>The project consists of two main parts: an editor (CHSM) to draw state machines and a C library (CRF) that is able to drive the C code generated by the editor.</p></li>
<li><dl class="simple">
<dt>CHSM (editor) features:</dt><dd><ul>
<li><p>Written in Python and Vanilla Javascript. (Tested with Python 3.7+ and Chromium on RPi4 and with Chrome and Firefox on Win10.)</p></li>
<li><p>The editor can generate C code from the drawings.</p></li>
<li><p>Application file format is Html. Can be opened without the editor in view-only mode with any browser.</p></li>
<li><p>Comments can be added to any string.</p></li>
<li><p>Comments are displayed as tooltips on mouse hover and added as actual C comments to the generated code.</p></li>
<li><p>Mostly follows the UML statecharts specification (event deferral is an exception).</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>The CRF (C Reactive Framework) design was heavily influenced by Miro Samek’s excellent book: [Practical UML Statecharts in C/C++](<a class="reference external" href="http://www.state-machine.com/psicc2/">http://www.state-machine.com/psicc2/</a>). If you are not familiar with UML statechars then I recommend reading it. All the important concepts are explained very clearly in a first few chapters with easy to understand examples.</p></li>
<li><dl class="simple">
<dt>CRF features:</dt><dd><ul>
<li><p>Run-to-completion (RTC) execution model</p></li>
<li><p>Written in C99. (Uses C11 atomics when available, if not, than the application must define two simple atomic functions.)</p></li>
<li><p>State transitions are precalculated at code generation to avoid the runtime cost of hierarchy discovery.</p></li>
<li><p>All states are represented by functions that process events with a switch statement.</p></li>
<li><p>Optional event pools that provide simple O(1) dynamic memory handling to releive modules from buffering.</p></li>
<li><p>Wait-free multi-producer single-consumer event queues for each state machines.</p></li>
<li><p>Events can be deferred and recalled.</p></li>
<li><p>Events can be safely generated and distributed by interrupts.</p></li>
<li><p>Optional event generators for “analog” int32 values and uint8_t bitfields.</p></li>
<li><p>Unit tests (using the Unity framework).</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</section>
<section id="installing-for-chsm">
<h2><span class="sectnum">1.2 </span>Installing for CHSM<a class="headerlink" href="#installing-for-chsm" title="Link to this heading"></a></h2>
<section id="of-the-gui-and-code-generation">
<h3><span class="sectnum">1.2.1 </span>Of the GUI and code generation<a class="headerlink" href="#of-the-gui-and-code-generation" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Chrome. Theoretically other browsers can be used, but only Chrome was tested.</p></li>
<li><p>Python 3.7+</p></li>
<li><p>You can install the packages like this:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3<span class="w"> </span>install<span class="w"> </span>eel<span class="w"> </span>docopt
</pre></div>
</div>
</section>
<section id="of-the-c-unit-tests">
<h3><span class="sectnum">1.2.2 </span>Of the C unit tests<a class="headerlink" href="#of-the-c-unit-tests" title="Link to this heading"></a></h3>
<p>The C code uses the Unity unit testing framework for running the tests. The
CMake script that builds the tests assumes that the Unity and the CHSM repos
are in the same directory.</p>
<p>Cloning:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ThrowTheSwitch/Unity.git
</pre></div>
</div>
</section>
</section>
<section id="configuration">
<h2><span class="sectnum">1.3 </span>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
</section>
<section id="quick-start">
<h2><span class="sectnum">1.4 </span>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="CHSM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../development/index.html" class="btn btn-neutral float-right" title="2 Development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Janos Szeman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>